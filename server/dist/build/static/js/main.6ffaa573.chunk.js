(this["webpackJsonpfpl-basket"]=this["webpackJsonpfpl-basket"]||[]).push([[0],{165:function(e,t,n){"use strict";n.r(t);var a=n(213),r=n(223),c=n(47),s=n.n(c),i=n(23),l=n(64),j=function(e){if(!e)return"";var t=(e.first_name.length<10?e.first_name:e.first_name.split(" ")[0])+" "+e.second_name;return t.length<20?t:e.web_name},u=function(e){return e?e.web_name:""},o=function(e){switch(e.element_type){case 1:return"GKP";case 2:return"DEF";case 3:return"MID";case 4:return"FWD";default:return""}},d=function(e){return e?e.element_type:0},b=function(e,t){return t[e.team-1].short_name||"no"},x=n(9),O=n(1),h=n(0),m={bssData:null,leagueData:null,gwsData:[],selectedGw:"",liveElements:[]},p=Object(O.createContext)([m,function(){return m}]),f=function(e){var t=e.reducer,n=e.children,a=Object(O.useReducer)(t,m),r=Object(x.a)(a,2),c=r[0],s=r[1];return Object(h.jsx)(p.Provider,{value:[c,s],children:n})},g=function(){return Object(O.useContext)(p)},v=n(17),y=n.n(v),w=n(29),_=n(212),D=n(224),E=n(83),S=n(225),k=n(219),C=n(220),T=n(214),P=n(217),A=n(229),I=n(107),L=n.n(I),G=n(206),B=n(68),F=n.n(B),M="/api",W=function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(M,"/data"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat(M,"/league"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat(M,"/live"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("".concat(M,"/team"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=g(),t=Object(x.a)(e,2),n=t[0],a=n.gwsData,r=n.selectedGw,c=t[1],s=Object(O.useState)(!1),i=Object(x.a)(s,2),l=i[0],j=i[1],u=Object(O.useState)(""),o=Object(x.a)(u,2),d=o[0],b=o[1],m=Object(O.useState)(r),p=Object(x.a)(m,2),f=p[0],v=p[1],_=Object(O.useState)(!1),D=Object(x.a)(_,2),E=D[0],I=D[1],B=function(){var e=Object(w.a)(y.a.mark((function e(t,n){var a,r,s,i,l,j;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,a={gw:t.toString()},e.next=6,V(a);case 6:200==(r=e.sent).status&&r.data&&(s=r.data,c({type:"SET_LIVE_ELEMENTS",payload:s})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("error:",e.t0);case 13:return e.prev=13,I(!0),i={gw:t.toString(),leagueId:n},e.next=18,R(i);case 18:200==(l=e.sent).status&&l.data&&(j=l.data,f&&c({type:"SET_SELECTED_GW",payload:f}),window.localStorage.setItem("usersPreviousLeagueID",n),I(!1),c({type:"SET_LEAGUE_DATA",payload:j})),e.next=26;break;case 22:e.prev=22,e.t1=e.catch(13),alert("No league found or FPL is being updated"),I(!1);case 26:case"end":return e.stop()}}),e,null,[[2,10],[13,22]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){var e=window.localStorage.getItem("usersPreviousLeagueID");e&&b(e)}),[]),Object(O.useEffect)((function(){v(r);var e=window.location.pathname.match(/[0-9]/g);e&&B(parseInt(r),e.join("").toString())}),[r]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(G.a,{sx:{my:4},style:{display:"flex",marginTop:"10%"},children:Object(h.jsx)("img",{src:"/images/logo512.png",alt:"logo",style:{margin:"auto",maxWidth:"500px",width:"75%"}})}),Object(h.jsxs)(G.a,{sx:{my:4},style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsx)(G.a,{style:{width:300,height:20},children:l?Object(h.jsx)("img",{src:"/images/urlpic.png",alt:"urlpic",style:{maxWidth:300}}):null}),Object(h.jsx)(S.a,{margin:"normal",variant:"filled",style:{width:300},children:Object(h.jsx)(k.a,{InputProps:{endAdornment:Object(h.jsx)(G.a,{children:Object(h.jsx)(L.a,{style:{cursor:"pointer"},onClick:function(){return j(!l)}})})},id:"leagueId",onKeyPress:function(e){"Enter"===e.key&&B(parseInt(f),d)},value:d,label:"League ID",onChange:function(e){return b(e.target.value)}})}),Object(h.jsxs)(S.a,{margin:"normal",variant:"outlined",style:{width:300},children:[Object(h.jsx)(C.a,{id:"gw",children:"Gameweek"}),Object(h.jsx)(T.a,{labelId:"gw",id:"gw",label:"Gameweek",value:f.toString(),defaultValue:"",onChange:function(e){return v(e.target.value)},children:a.map((function(e){return Object(h.jsxs)(P.a,{value:e.id,children:[" ",e.id," "]},e.id)}))})]}),Object(h.jsx)(A.a,{style:{marginTop:15},disabled:E,size:"large",variant:"contained",onClick:function(){return B(parseInt(f),d)},children:E?"Loading...":"Go!"})]})]})},z=n(234),J=n(236),K=n(237),q=n(238),H=n(239),Q=n(230),X=n(231),Y=n(232),Z=n(233),$=function(e){var t=e.children,n=e.header,a=void 0===n?null:n;return Object(h.jsx)(Q.a,{variant:"elevation",style:{marginBottom:"20px",borderRadius:"5px"},children:Object(h.jsxs)(X.a,{children:[a,Object(h.jsx)(Y.a,{children:Object(h.jsx)(Z.a,{children:t})})]})})},ee=function(){var e=g(),t=Object(x.a)(e,1)[0],n=t.bssData,a=t.leagueData;return n&&(null===a||void 0===a?void 0:a.parsedData)?Object(h.jsxs)($,{header:Object(h.jsx)(z.a,{title:"Captains",style:{textAlign:"center"}}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Captain"}),Object(h.jsx)(q.a,{children:"Owners"}),Object(h.jsx)(q.a,{children:"#"})]})}),Object(h.jsx)(H.a,{children:a.parsedData.captains.map((function(e){return Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:u(n.elements[e.captain])}),Object(h.jsx)(q.a,{children:e.captainedBy.join(", ")}),Object(h.jsxs)(q.a,{children:[e.captainedBy.length," "]})]},e.captain)}))})]}):null},te=function(e){switch(e){case"wildcard":return"Wildcard";case"3xc":return"Triple Captain";case"freehit":return"Freehit";case"bboost":return"Bench Boost";default:return""}},ne=function(){var e=g(),t=Object(x.a)(e,1)[0],n=t.bssData,a=t.leagueData;return!n||!(null===a||void 0===a?void 0:a.parsedData)||a.parsedData.chips.length<1?null:Object(h.jsxs)($,{header:Object(h.jsx)(z.a,{title:"Chips played",style:{textAlign:"center"}}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Chip"}),Object(h.jsx)(q.a,{children:"Used by"})]})}),Object(h.jsx)(H.a,{children:a.parsedData.chips.map((function(e){return Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:te(e.chip)}),Object(h.jsx)(q.a,{children:e.usedBy.join(", ")})]},e.chip)}))})]})},ae=function(){var e=g(),t=Object(x.a)(e,1)[0].leagueData;return Object(h.jsxs)($,{header:Object(h.jsx)(z.a,{title:"Team values",style:{textAlign:"center"}}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Manager"}),Object(h.jsx)(q.a,{children:"Value"})]})}),Object(h.jsx)(H.a,{children:null===t||void 0===t?void 0:t.parsedData.managers.sort((function(e,t){return t.manager.gw_team.entry_history.value-e.manager.gw_team.entry_history.value})).map((function(e){return Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:e.manager.player_name}),Object(h.jsx)(q.a,{children:(e.manager.gw_team.entry_history.value/10).toFixed(1)})]},e.manager.id)}))})]})},re=n(240),ce=n(241),se=n(216),ie=n(242),le=n(235),je=n(244),ue=n(243),oe=n(108),de=n.n(oe),be=n(111),xe=n.n(be),Oe=n(110),he=n.n(Oe),me=n(109),pe=n.n(me),fe=n(16),ge=n(90),ve=n(51),ye="#13181F",we=Object(ge.a)({palette:{mode:"dark",background:{default:"#171c24",paper:"#222b36"},primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:ve.a.A400}}}),_e={margin:"auto"},De=[{icon:Object(h.jsx)(de.a,{style:_e}),text:"Main"},{icon:Object(h.jsx)(pe.a,{style:_e}),text:"Transfers"},{icon:Object(h.jsx)(he.a,{style:_e}),text:"Standings"},{icon:Object(h.jsx)(xe.a,{style:_e}),text:"Values"}],Ee=function(e){var t=e.page,n=e.setPage,a=g(),r=Object(x.a)(a,2),c=r[0],s=c.leagueData,i=c.selectedGw,l=c.gwsData,j=r[1];if(!(null===s||void 0===s?void 0:s.league_curr.managers))return null;var u=l[0].id.toString()==i,o=Object(fe.d)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(re.a,{position:"fixed",children:Object(h.jsxs)(ce.a,{style:{background:ye},children:[Object(h.jsx)("img",{onClick:function(){j({type:"RESET_LEAGUE_DATA",payload:null}),o.push("/")},src:"/images/logo192.png",alt:"logo",style:{maxHeight:"75%",maxWidth:80,paddingBlock:7,cursor:"pointer"}}),Object(h.jsx)(_.a,{display:{xs:"none",md:"flex"},children:Object(h.jsx)(se.a,{style:{marginLeft:15},value:t,onChange:function(e,t){n(t)},children:De.map((function(e){return Object(h.jsx)(ie.a,{value:e.text.toLowerCase(),icon:e.icon,label:e.text,disabled:"Standings"==e.text&&!u},e.text)}))})}),Object(h.jsx)(le.a,{style:{marginLeft:"auto"},variant:"h5",children:"".concat(null===s||void 0===s?void 0:s.league_curr.league.name).concat((null===s||void 0===s?void 0:s.league_curr.managers.length)>49?" (Top 50)":"",", Gameweek ").concat(i)})]})}),Object(h.jsx)(_.a,{display:{md:"none"},children:Object(h.jsx)(ue.a,{style:{zIndex:999999999,background:ye,position:"fixed",bottom:0,left:0,right:0},value:t,onChange:function(e,t){n(t)},showLabels:!0,children:De.map((function(e){return Object(h.jsx)(je.a,{value:e.text.toLowerCase(),label:e.text,icon:e.icon},e.text)}))})})]})},Se=function(){var e=g(),t=Object(x.a)(e,1)[0],n=t.bssData,a=t.leagueData;if(!n||!a)return null;var r=Object(O.useState)(""),c=Object(x.a)(r,2),s=c[0],i=c[1];return Object(h.jsxs)($,{header:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(k.a,{fullWidth:!0,value:s||"",InputProps:{endAdornment:Object(h.jsx)(A.a,{variant:"text",onClick:function(){return i("")},children:"Clear"})},label:"Search from ".concat(a.parsedData.players.length," players..."),onChange:function(e){return i(e.target.value.toLowerCase())}})}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Player"}),Object(h.jsx)(q.a,{children:"Owners"}),Object(h.jsx)(q.a,{children:"#"})]})}),Object(h.jsx)(H.a,{children:function(e,t){return""==e?t:t.filter((function(t){return j(n.elements[t.player]).toLowerCase().includes(e)}))}(s,a.parsedData.players).map((function(e){return Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:u(n.elements[e.player])}),Object(h.jsx)(q.a,{children:e.ownedBy.join(", ")}),Object(h.jsx)(q.a,{children:e.ownedBy.length})]},e.player)}))})]})},ke=n(222),Ce=n(246),Te=n(114),Pe=n.n(Te),Ae=n(115),Ie=n.n(Ae),Le=n(113),Ge=n.n(Le),Be=n(116),Fe=n.n(Be),Me=n(245),We=function(e){var t=e.manager,n=Object(O.useState)(),a=Object(x.a)(n,2),r=a[0],c=a[1];return Object(O.useEffect)((function(){var e=function(){var e=Object(w.a)(y.a.mark((function e(){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entry.toString(),e.next=3,N({id:n});case 3:200==(a=e.sent).status&&a.data&&(r=a.data,c(r.filter((function(e){return e.active_chip}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),r?Object(h.jsx)(G.a,{children:Object(h.jsxs)($,{header:Object(h.jsx)(z.a,{title:"Chips used",style:{textAlign:"center"}}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"GW"}),Object(h.jsx)(q.a,{children:"Chip"})]})}),Object(h.jsx)(H.a,{children:null===r||void 0===r?void 0:r.filter((function(e){return e.active_chip})).map((function(e){return Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:e.entry_history.event}),Object(h.jsx)(q.a,{children:te(e.active_chip||"")})]},e.entry_history.event)}))})]})}):null},Re=function(e){var t=e.headerText,n=e.team1,a=e.team2,r=g(),c=Object(x.a)(r,1)[0].bssData;return Object(h.jsxs)(ke.a,{xs:12,sm:6,md:4,item:!0,direction:"column",children:[Object(h.jsx)(le.a,{variant:"h6",children:t}),n.gw_team.picks.filter((function(e){return!a.gw_team.picks.map((function(e){return e.element})).includes(e.element)})).sort((function(e,t){return d(null===c||void 0===c?void 0:c.elements[e.element])-d(null===c||void 0===c?void 0:c.elements[t.element])})).map((function(e){return Object(h.jsx)(le.a,{variant:"body2",children:j((null===c||void 0===c?void 0:c.elements[e.element])||null)},e.element)}))]})},Ve=function(e){var t,n=e.manager,a=Object(O.useState)(null),r=Object(x.a)(a,2),c=r[0],s=r[1],i=g(),l=Object(x.a)(i,1)[0],u=l.leagueData,o=l.bssData;return Object(h.jsx)(G.a,{children:Object(h.jsx)(Q.a,{variant:"elevation",style:{marginBottom:"20px",borderRadius:"5px"},children:Object(h.jsxs)(X.a,{children:[Object(h.jsx)(z.a,{title:"Compare to",style:{textAlign:"center"}}),Object(h.jsxs)(S.a,{fullWidth:!0,children:[Object(h.jsx)(C.a,{id:"compare-id",children:"Select another manager"}),Object(h.jsx)(T.a,{variant:"standard",labelId:"compare-id",id:"compare-select",label:"Compare to",onChange:function(e){console.log("event ",e.target.value);var t=parseInt(e.target.value)||0,n=(null===u||void 0===u?void 0:u.parsedData.managers[t].manager)||null;s(n)},children:null===u||void 0===u||null===(t=u.parsedData)||void 0===t?void 0:t.managers.map((function(e,t){return Object(h.jsx)(P.a,{value:t,children:e.manager.player_name})}))})]}),n&&c?Object(h.jsx)(ke.a,{container:!0,marginTop:5,children:Object(h.jsxs)(ke.a,{item:!0,container:!0,display:"flex",justifyContent:"left",children:[Object(h.jsx)(Re,{headerText:n.player_name,team1:n,team2:c}),Object(h.jsx)(Re,{headerText:c.player_name,team1:c,team2:n}),Object(h.jsxs)(ke.a,{xs:12,sm:6,md:4,item:!0,direction:"column",children:[Object(h.jsx)(le.a,{variant:"h6",children:"Common"}),c.gw_team.picks.filter((function(e){return n.gw_team.picks.map((function(e){return e.element})).includes(e.element)})).sort((function(e,t){return d(null===o||void 0===o?void 0:o.elements[e.element])-d(null===o||void 0===o?void 0:o.elements[t.element])})).map((function(e){return Object(h.jsx)(le.a,{variant:"body2",children:j((null===o||void 0===o?void 0:o.elements[e.element])||null)},e.element)}))]})]})}):null]})})})},Ne=function(e){var t=e.manager,n=e.setManagerPage,a=g(),r=Object(x.a)(a,1)[0],c=r.bssData,s=r.liveElements,i=r.selectedGw;return(null===c||void 0===c?void 0:c.elements)?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)($,{header:Object(h.jsxs)(ke.a,{container:!0,children:[Object(h.jsx)(ke.a,{item:!0,xs:3,display:"flex",justifyContent:"left",alignItems:"center",children:Object(h.jsx)(A.a,{onClick:function(){return n(null)},variant:"contained",children:"Back"})}),Object(h.jsx)(ke.a,{item:!0,xs:6,children:Object(h.jsx)(z.a,{title:t.manager.player_name,style:{textAlign:"center"}})}),Object(h.jsx)(ke.a,{item:!0,xs:3,display:"flex",direction:"column",justifyContent:"center",alignItems:"center",children:Object(h.jsx)(Me.a,{href:"https://fantasy.premierleague.com/entry/".concat(t.manager.entry,"/event/").concat(i,"/"),target:"_blank",rel:"noreferrer",children:Object(h.jsx)(A.a,{variant:"contained",children:"FPL"})})})]}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Player"}),Object(h.jsx)(q.a,{children:"Team"}),Object(h.jsx)(q.a,{children:"Position"}),Object(h.jsx)(q.a,{children:"Points"})]})}),Object(h.jsxs)(H.a,{children:[t.manager.gw_team.picks.filter((function(e){return e.multiplier>0})).map((function(e){return Object(h.jsxs)(K.a,{children:[Object(h.jsxs)(q.a,{children:[j(c.elements[e.element]),e.is_captain?" (C)":"",e.is_vice_captain?" (V)":""]}),Object(h.jsx)(q.a,{children:b(c.elements[e.element],c.teams)}),Object(h.jsx)(q.a,{children:o(c.elements[e.element])}),Object(h.jsx)(q.a,{children:s[e.element].stats.total_points*e.multiplier})]},e.element)})),0==t.manager.gw_team.entry_history.event_transfers_cost?null:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Transfers cost"}),Object(h.jsx)(q.a,{}),Object(h.jsx)(q.a,{}),Object(h.jsx)(q.a,{children:-1*t.manager.gw_team.entry_history.event_transfers_cost})]}),Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Total"}),Object(h.jsx)(q.a,{}),Object(h.jsx)(q.a,{}),Object(h.jsx)(q.a,{children:t.points})]})]})]}),Object(h.jsxs)($,{header:Object(h.jsx)(z.a,{title:"Bench",style:{textAlign:"center"}}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Player"}),Object(h.jsx)(q.a,{children:"Team"}),Object(h.jsx)(q.a,{children:"Position"}),Object(h.jsx)(q.a,{children:"Points"})]})}),Object(h.jsx)(H.a,{children:t.manager.gw_team.picks.filter((function(e){return 0==e.multiplier})).map((function(e){return Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:j(c.elements[e.element])}),Object(h.jsx)(q.a,{children:b(c.elements[e.element],c.teams)}),Object(h.jsx)(q.a,{children:o(c.elements[e.element])}),Object(h.jsx)(q.a,{children:s[e.element].stats.total_points})]},e.element)}))})]}),Object(h.jsx)(We,{manager:t.manager}),Object(h.jsx)(Ve,{manager:t.manager})]}):null},Ue=function(e){var t=e.manager;return Object(h.jsxs)(G.a,{children:[Object(h.jsx)(Me.a,{children:Object(h.jsx)(G.a,{children:t.entry_name})}),Object(h.jsx)(G.a,{children:t.player_name})]})},ze=function(e){var t=e.gwPoints,n=e.totalPoints,a=e.manager,r=e.setManagerPage,c=e.i,s=void 0===c?1:c;return Object(h.jsxs)(K.a,{style:{cursor:"pointer"},onClick:function(){return r(a?{manager:a,points:t}:null)},children:[Object(h.jsx)(q.a,{children:function(){var e=a.last_rank>s?0:a.last_rank<s?2:1,t={marginRight:5,marginBlock:"auto"},n={marginBlock:"auto"},r=function(e,n){return Object(h.jsxs)(_.a,{display:"flex",children:[Object(h.jsx)(le.a,{style:t,variant:"button",children:e}),n]})};return r(s,0==e?Object(h.jsx)(Ge.a,{color:"primary",style:n}):1==e?Object(h.jsx)(Pe.a,{color:"disabled",style:n}):Object(h.jsx)(Ie.a,{color:"error",style:n}))}()}),Object(h.jsx)(q.a,{children:Object(h.jsx)(Ue,{manager:a})}),Object(h.jsx)(q.a,{children:t}),Object(h.jsx)(q.a,{children:n})]},s)},Je=function(e){var t=e.managers,n=e.setManagerPage,a=g(),r=Object(x.a)(a,1)[0].liveElements,c=Object(O.useState)([]),s=Object(x.a)(c,2),j=s[0],u=s[1];return r?(Object(O.useEffect)((function(){var e,a=[],c=Object(l.a)(t);try{for(c.s();!(e=c.n()).done;){var s,i=e.value,j=i.manager.gw_team,o=i.manager.prev_points,d=-1*j.entry_history.event_transfers_cost,b=Object(l.a)(i.parsedPicks.active);try{for(b.s();!(s=b.n()).done;){var x=s.value,O=x.element;d+=r[O].stats.total_points*x.multiplier}}catch(h){b.e(h)}finally{b.f()}a.push({manager:i.manager,gwPoints:d,totalPoints:o+d,setManagerPage:n})}}catch(h){c.e(h)}finally{c.f()}a.sort((function(e,t){return t.totalPoints-e.totalPoints})),u(a)}),[r]),Object(h.jsx)(h.Fragment,{children:j.map((function(e,t){return Object(h.jsx)(ze,Object(i.a)(Object(i.a)({},e),{},{i:t+1}),t)}))})):null},Ke=function(){var e=g(),t=Object(x.a)(e,2),n=t[0],a=n.leagueData,r=n.selectedGw,c=t[1];if(!(null===a||void 0===a?void 0:a.parsedData))return null;var s=Object(O.useState)(null),i=Object(x.a)(s,2),l=i[0],j=i[1],u=Object(O.useState)(!1),o=Object(x.a)(u,2),d=o[0],b=o[1],m=function(){var e=Object(w.a)(y.a.mark((function e(){var t,n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t={gw:r},e.next=4,V(t);case 4:200==(n=e.sent).status&&n.data?(a=n.data,c({type:"SET_LIVE_ELEMENTS",payload:a})):alert("Refresh failed"),b(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l?Object(h.jsx)(Ne,{setManagerPage:j,manager:l}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)($,{header:Object(h.jsxs)(ke.a,{container:!0,alignContent:"space-between",children:[Object(h.jsx)(ke.a,{item:!0,xs:2,children:" "}),Object(h.jsx)(ke.a,{item:!0,xs:8,children:Object(h.jsx)(z.a,{title:"Standings",style:{textAlign:"center"}})}),Object(h.jsx)(ke.a,{container:!0,item:!0,xs:2,alignContent:"center",children:Object(h.jsx)(Ce.a,{disabled:d,onClick:function(){return m()},style:{margin:"auto",cursor:"pointer"},children:Object(h.jsx)(Fe.a,{fontSize:"large"})})})]}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Rank"}),Object(h.jsx)(q.a,{children:"Manager"}),Object(h.jsx)(q.a,{children:"GW"}),Object(h.jsx)(q.a,{children:"Tot"})]})}),Object(h.jsx)(H.a,{children:Object(h.jsx)(Je,{setManagerPage:j,managers:a.parsedData.managers})})]})})},qe=function(){var e,t=g(),n=Object(x.a)(t,1)[0],a=n.bssData,r=n.leagueData;return a&&(null===r||void 0===r||null===(e=r.parsedData)||void 0===e?void 0:e.transfers)?Object(h.jsxs)($,{header:Object(h.jsx)(z.a,{title:"Transfers",style:{textAlign:"center"}}),children:[Object(h.jsx)(J.a,{children:Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:"Manager"}),Object(h.jsx)(q.a,{children:"In"}),Object(h.jsx)(q.a,{children:"Out"}),Object(h.jsx)(q.a,{children:"-"})]})}),Object(h.jsx)(H.a,{children:r.parsedData.transfers.map((function(e){var t,n;return Object(h.jsxs)(K.a,{children:[Object(h.jsx)(q.a,{children:e.managerName}),Object(h.jsx)(q.a,{children:null!==(t=e.chip)&&void 0!==t?t:e.transfersIn.map((function(e){return u(a.elements[e])})).join(", ")}),Object(h.jsx)(q.a,{children:null!==(n=e.chip)&&void 0!==n?n:e.transfersOut.map((function(e){return u(a.elements[e])})).join(", ")}),Object(h.jsx)(q.a,{children:0!==e.transfersCost?-1*e.transfersCost:""})]},e.managerName)}))})]}):null},He=function(){var e=Object(O.useState)("main"),t=Object(x.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Ee,{page:n,setPage:a}),Object(h.jsx)(_.a,{paddingBottom:10,marginTop:20,children:function(e){switch(e){case"main":return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ne,{}),Object(h.jsx)(ee,{}),Object(h.jsx)(Se,{})]});case"transfers":return Object(h.jsx)(qe,{});case"standings":return Object(h.jsx)(Ke,{});case"values":return Object(h.jsx)(ae,{});default:return null}}(n)})]})};function Qe(){var e=g(),t=Object(x.a)(e,2),n=t[0].leagueData,a=t[1];return Object(O.useEffect)((function(){var e=function(){var e=Object(w.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:200==(t=e.sent).status&&t.data?(n=t.data,a({type:"SET_BSS_DATA",payload:n})):alert("The game is being updated.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(h.jsx)(E.a,{children:Object(h.jsx)(D.a,{maxWidth:"lg",children:Object(h.jsx)(_.a,{height:"100vh",children:n?Object(h.jsx)(He,{}):Object(h.jsx)(U,{})})})})}s.a.render(Object(h.jsxs)(r.a,{theme:we,children:[Object(h.jsx)(a.a,{}),Object(h.jsx)(f,{reducer:function(e,t){switch(t.type){case"SET_BSS_DATA":var n=function(e){var t,n=e.filter((function(e){return e.finished})),a=Object(l.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,c=new Date-new Date(r.deadline_time);!r.finished&&c>12e5&&n.push(r)}}catch(s){a.e(s)}finally{a.f()}return n.reverse()}(t.payload.events);return Object(i.a)(Object(i.a)({},e),{},{bssData:Object(i.a)({},t.payload),gwsData:n,selectedGw:n[0].id.toString()});case"SET_LEAGUE_DATA":return Object(i.a)(Object(i.a)({},e),{},{leagueData:Object(i.a)({},t.payload)});case"RESET_LEAGUE_DATA":return Object(i.a)(Object(i.a)({},e),{},{leagueData:null});case"SET_SELECTED_GW":return Object(i.a)(Object(i.a)({},e),{},{selectedGw:t.payload});case"SET_LIVE_ELEMENTS":return Object(i.a)(Object(i.a)({},e),{},{liveElements:t.payload});default:return e}},children:Object(h.jsx)(Qe,{})})]}),document.querySelector("#root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.6ffaa573.chunk.js.map