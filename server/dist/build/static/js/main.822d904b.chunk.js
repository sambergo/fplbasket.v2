(this["webpackJsonpcreate-react-app-with-typescript"]=this["webpackJsonpcreate-react-app-with-typescript"]||[]).push([[0],{144:function(e,t,n){"use strict";n.r(t);var a=n(188),r=n(197),c=n(33),s=n.n(c),i=n(23),l=n.n(i),u=n(35),o=n(13),d=n(94),j=n(187),b=n(198),x=n(0),p=n(199),h=n(200),m=n(193),f=n(194),g=n(189),O=n(191),y=n(204),v=n(181),w=n(73),k=n.n(w),G="/api",I=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(G,"/data"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(G,"/league"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=n(2),D=function(e){var t=e.leagueId,n=e.setleagueId,a=e.selectedGW,r=e.setleague,c=e.setselectedGW,s=e.gws,i=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=t){e.next=2;break}return e.abrupt("return");case 2:if(n){e.next=4;break}return e.abrupt("return");case 4:return a={gw:t.toString(),leagueId:n},e.next=7,W(a);case 7:c=e.sent,console.log("res leaguee : ",c),200==c.status&&(s=c.data,r(s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(v.a,{sx:{my:4},style:{display:"flex",marginTop:"10%"},children:Object(C.jsx)("img",{src:"logo512.png",alt:"logo",style:{margin:"auto",maxWidth:"80%"}})}),Object(C.jsxs)(v.a,{sx:{my:4},style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(C.jsx)(p.a,{component:"h1",variant:"h5",children:"LIIGA"}),Object(C.jsx)(h.a,{margin:"normal",variant:"filled",style:{width:300},children:Object(C.jsx)(m.a,{variant:"outlined",fullWidth:!0,id:"leagueId",label:"League ID",name:"leagueId",onChange:function(e){return n(e.target.value)}})}),Object(C.jsxs)(h.a,{margin:"normal",variant:"outlined",style:{width:300},children:[Object(C.jsx)(f.a,{id:"gw",children:"Gameweek"}),Object(C.jsx)(g.a,{labelId:"gw",id:"gw",label:"Gameweek",value:a,onChange:function(e){return c(e.target.value)},children:s.map((function(e){return Object(C.jsxs)(O.a,{value:e.id,children:[" ",e.id," "]},e.id)}))})]}),Object(C.jsx)(y.a,{onClick:function(){return i(a,t)},children:"Go"})]})]})},S=n(196),T=n(96),_=n.n(T),A=n(97),B=n.n(A),E=n(99),L=n.n(E),F=n(98),J=n.n(F),q=n(205),H=n(206),M=n(207),P=n(208),R=n(209),U=n(210),X=n(211),z=function(e){var t=e.bssData,n=e.league;e.leagueId,e.selectedGW,e.setselectedGW,e.gws;if(console.log("captains"),!t||!n)return null;return Object(C.jsx)(q.a,{variant:"elevation",style:{borderRadius:"5px"},children:Object(C.jsx)(H.a,{children:Object(C.jsx)(M.a,{children:Object(C.jsxs)(P.a,{children:[Object(C.jsx)(R.a,{children:Object(C.jsxs)(U.a,{children:[Object(C.jsx)(X.a,{children:"Captain"}),Object(C.jsx)(X.a,{children:"Owners"}),Object(C.jsx)(X.a,{children:"#"})]})}),Array.from(new Set(n.teams.map((function(e){return e.team.picks.find((function(e){return e.is_captain}))})).map((function(e){return null===e||void 0===e?void 0:e.element})))).map((function(e){return void 0==e?1:e})).map((function(e){var a=n.teams.filter((function(t){return t.team.picks.find((function(t){return t.is_captain&&t.element==e}))})).map((function(e){return e.player_name}));return{player:"".concat(t.elements[e].first_name," ").concat(t.elements[e].web_name),captainedBy:a}})).map((function(e){return Object(C.jsxs)(U.a,{children:[Object(C.jsx)(X.a,{children:e.player}),Object(C.jsx)(X.a,{children:e.captainedBy.join(", ")}),Object(C.jsx)(X.a,{children:e.captainedBy.length})]},e.player)}))]})})})})},K=function(e){var t=e.bssData,n=e.league,a=e.leagueId,r=(e.setleagueId,e.selectedGW),c=(e.setleague,e.setselectedGW),s=e.gws;console.log("LEAGUE PAGE");var i={margin:"auto"},l=[{icon:Object(C.jsx)(_.a,{style:i}),text:"Main"},{icon:Object(C.jsx)(B.a,{style:i}),text:"Transfers"},{icon:Object(C.jsx)(J.a,{style:i}),text:"Table"},{icon:Object(C.jsx)(L.a,{style:i}),text:"Data"}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(S.a,{style:{marginTop:"15px"},container:!0,justifyContent:"space-between",children:[Object(C.jsx)(S.a,{item:!0,xs:2,style:{display:"flex"},children:Object(C.jsx)("img",{src:"logo512.png",alt:"logo",style:{marginBlock:"auto",maxHeight:"75%",maxWidth:"75%"}})}),Object(C.jsx)(S.a,{md:5,item:!0,container:!0,display:{md:"inherit",sm:"none",xs:"none"},direction:"row",justifyContent:"left",children:l.map((function(e){return Object(C.jsx)(S.a,{item:!0,container:!0,xs:3,justifyContent:"left",children:Object(C.jsxs)(S.a,{item:!0,container:!0,direction:"column",justifyContent:"center",children:[Object(C.jsx)(S.a,{item:!0,display:"flex",children:e.icon}),Object(C.jsx)(S.a,{marginX:"auto",item:!0,children:e.text})]})},e.text)}))}),Object(C.jsx)(S.a,{item:!0,xs:10,md:5,justifyContent:"center",style:{display:"flex"},children:Object(C.jsx)(p.a,{component:"h2",variant:"h5",style:{marginBlock:"auto"},children:"".concat(n.league.name,", Gameweek ").concat(r)})})]}),Object(C.jsx)(S.a,{container:!0,justifyContent:"space-evenly",display:{md:"none"},position:"absolute",bottom:0,left:0,right:0,style:{backgroundColor:"#222b36",color:"#919eab",height:"60px"},children:l.map((function(e){return Object(C.jsxs)(j.a,{marginTop:"auto",children:[Object(C.jsx)(j.a,{display:"flex",children:e.icon}),Object(C.jsx)(j.a,{children:e.text})]})}))}),Object(C.jsx)(j.a,{marginTop:"60px",children:Object(C.jsx)(z,{league:n,gws:s,bssData:t,leagueId:a,selectedGW:r,setselectedGW:c})})]})},N=function(e){var t,n=e.filter((function(e){return e.finished})),a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value,c=new Date-new Date(r.deadline_time);!r.finished&&c>12e5&&n.push(r)}}catch(s){a.e(s)}finally{a.f()}return n.reverse()};function Q(){var e=Object(x.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(x.useState)([]),c=Object(o.a)(r,2),s=c[0],i=c[1],d=Object(x.useState)(1),p=Object(o.a)(d,2),h=p[0],m=p[1],f=Object(x.useState)(""),g=Object(o.a)(f,2),O=g[0],y=g[1],v=Object(x.useState)(null),w=Object(o.a)(v,2),k=w[0],G=w[1];return Object(x.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:200==(t=e.sent).status?(n=t.data,a(n),r=N(n.events),i(r),m(r[0].id)):alert("The game is being updated.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(C.jsx)(b.a,{maxWidth:"lg",children:Object(C.jsx)(j.a,{height:"100vh",children:k?Object(C.jsx)(K,{league:k,gws:s,setleague:G,bssData:n,leagueId:O,setleagueId:y,selectedGW:h,setselectedGW:m}):Object(C.jsx)(D,{gws:s,setleague:G,bssData:n,leagueId:O,setleagueId:y,selectedGW:h,setselectedGW:m})})})}var V=n(78),Y=n(39),Z=Object(V.a)({palette:{mode:"dark",background:{default:"#171c24",paper:"#222b36"},primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:Y.a.A400}}});s.a.render(Object(C.jsxs)(r.a,{theme:Z,children:[Object(C.jsx)(a.a,{}),Object(C.jsx)(Q,{})]}),document.querySelector("#root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.822d904b.chunk.js.map